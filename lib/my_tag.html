<link href="src/polymer/polymer-element.html" rel="import">
<dom-module id='my-tag'>
  <template>
    <div on-click='hello'>CLICCA {{count}}</div>
  </template>
</dom-module>
<script>

require(['polymer_dcc'],function(x) {

  console.log("ENTER2");



  function mixin(A,B) {
    let res = class extends A {
      constructor() {
        super();
        this['new'].apply(this);
      }
    };
    for (let p of Object.getOwnPropertyNames(B.prototype) ) {
      if (p!='constructor') {
        Object.defineProperty(res.prototype,p,Object.getOwnPropertyDescriptor(B.prototype,p));
      }
    }
    return res;
  }



    function polymerize(type,tag,config) {
      let m = mixin(Polymer.Element,type);

        Object.defineProperty(m,'is',{
          get: function() {
            return tag;
          }
        });

        Object.defineProperty(m,'config',{
          get: function() {
            return config;
          }
        });

        return m;

    }

    let m = polymerize(x.index.MyDartTag,'my-tag',{});
  customElements.define( m.is,m);

});
</script>
